<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.6">
<title data-react-helmet="true">Spark란 | wookiist TIL</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://til.wookiist.dev/Data Engineering/Spark/spark-intro-01"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Spark란 | wookiist TIL"><meta data-react-helmet="true" name="description" content="spark-arch"><meta data-react-helmet="true" property="og:description" content="spark-arch"><link data-react-helmet="true" rel="shortcut icon" href="/img/wookii.ico"><link data-react-helmet="true" rel="canonical" href="https://til.wookiist.dev/Data Engineering/Spark/spark-intro-01"><link data-react-helmet="true" rel="alternate" href="https://til.wookiist.dev/Data Engineering/Spark/spark-intro-01" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://til.wookiist.dev/Data Engineering/Spark/spark-intro-01" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.bd468769.css">
<link rel="preload" href="/assets/js/runtime~main.fad16524.js" as="script">
<link rel="preload" href="/assets/js/main.7e56d1de.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="wookiist TIL" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/img/logo.svg" alt="wookiist TIL" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title">wookiist TIL</b></a><a class="navbar__item navbar__link navbar__link--active" href="/">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://wookiist.dev" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Blog<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://github.com/wookiist" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_2i4l react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_iYfV">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_lDyR"><button class="clean-btn backToTopButton_i9tI" type="button"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/">MAIN</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Data Engineering</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Airflow</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Druid</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Flink</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Hadoop</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Introduction</a></li><li class="theme-doc-sidebar-item-category menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Spark</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/Data Engineering/Spark/spark-intro-01">Spark란</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Data Engineering/Spark/spark-reference">Spark Reference</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Sqoop</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" tabindex="0" href="/Data Engineering/data-pipeline-components">데이터 파이프라인 요소 정리</a></li></ul></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Linux</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Monitoring</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">SQL</a></li><li class="theme-doc-sidebar-item-link menu__list-item"><a class="menu__link" href="/test">test</a></li><li class="theme-doc-sidebar-item-category menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">wookiist</a></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><div class="theme-doc-markdown markdown"><header><h1>Spark란</h1></header><p><img src="https://getto215.github.io/assets/img/2018-05-24-spark-Internals-of-job-execution-in-spark.jpg" alt="spark-arch"></p><p><img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&amp;fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FJPO7Q%2FbtqIhYGHU4K%2F70ZblAQys8BkEh7eLEqR40%2Fimg.png" alt="spark-arch2">
(<a href="https://artist-developer.tistory.com/8" target="_blank" rel="noopener noreferrer">https://artist-developer.tistory.com/8</a>)</p><p><code>spark-submit</code>을 실행하면, driver를 생성하게 된다. driver는 executor의 실행, 배포 등의 관리 역할을 담당한다. 사용자가 구성한 프로그램(Job)을 Task 단위로 변환해서 Executor로 전달한다.
Spark Submit을 하면 Cluster Manager가 애플리케이션을 구성한 JAR 파일 등을 받게 되는데, 이 때, on K8S, on Yarn, on Mesos 등에 따라 어떤 컴포넌트가 실제로 이러한 파일을 받아 처리하게 될지가 달라진다. on Yarn의 경우, Resource Manager가 이를 스케줄링하여, Node Manager에 뿌리게 되며, Node Manager가 있는 Node에선 Executor를 만들어 실제 해당 Job 을 수행한다. </p><p><code>spark job</code>을 실행하면, driver가 생성되며 driver는 executor를 생성한다. executor는 처리 결과를 driver로 전달하는데, 이 과정에서 driver가 속한 호스트를 찾을 수 없는 경우, backend 에러가 발생하며, spark를 사용할 수 없게 된다... (21.11.16 현재 이 문제로 인해 골머리가 아프다. statefulset 을 추후에 patch하는 것도 생각해봤는데, ./spec/template/spec 에 위치한 옵션을 하나 추가하는 방식으로 patch 해보았지만 add 되지 않는 것을 확인했다. ㅠㅠ -&gt; kubeflow notebook controller의 문제였다.... -&gt; controller 제거 후에는 정상적으로 패치가 됐다.)</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/wookiist/twl/edit/documentation/docs/Data Engineering/Spark/intro.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_mt2f"><span class="theme-last-updated">Last updated on <b><time datetime="2021-12-02T12:42:44.000Z">12/2/2021</time></b></span></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/Data Engineering/Introduction/de-intro-5"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« CH5 - 빅데이터의 파이프라인</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/Data Engineering/Spark/spark-reference"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Spark Reference »</div></a></div></nav></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 wookiist. Built by wookiist and with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.fad16524.js"></script>
<script src="/assets/js/main.7e56d1de.js"></script>
</body>
</html>