---
id: 'de-intro-2'
title: 'CH2 - 빅데이터의 탐색'
---
# 데이터베이스의 지연을 줄이기

데이터양이 증가함에 따라 집계에 걸리는 시간은 길어진다. 데이터 집계에 분 단위로 소요가 된다면 작업 효율은 그 이상으로 악화한다. 

초 단위로 데이터를 집계하려면 처음부터 그것에 맞게 시스템을 마련해야 한다. 

## 데이터 처리의 지연

가장 간단한 방법은 모든 데이터를 메모리에 올리는 것이다. 한 레코드의 크기가 500B이고 천만 개의 레코드가 있다고 가정하면 5GB가 된다. 이 정도라면 MySQL, PostgreSQL 등의 일반적인 RDB가 데이터 마트에 적합하다. 

RDB는 지연이 적고, 많은 수의 클라이언트가 동시 접속해도 성능이 나빠지지 않으므로 많은 사용자가 사용하는 실제 운영 환경의 데이터 마트로 특히 우수하다.
그러나 RDB는 메모리가 부족하면 성능이 급격히 저하된다. 수억 레코드를 초과하는 데이터 집계에서는 항상 **디바이스 I/O**가 발생한다고 가정하고 이것을 어떻게 효율화할 것인지가 중요하다.

## 압축과 분산에 의해 지연 줄이기

고속화를 위해 사용되는 기법이 '압축'과 '분산'이다. 데이터를 가능한 한 작게 압축하고 그것을 여러 디스크에 분산함으로써 데이터의 로드에 따른 지연을 줄인다.

분산된 데이터를 읽어 들이려면 **멀티 코어를 활용하면서 디스크 I/O를 병렬 처리하는 것이 효과적이다.** 이러한 아키텍처를 **MPP (Massive Parallel Processing, 대규모 병렬 처리)** 라고 한다. 대표적으로 Amazon Redshift와 Google BigQuery 등이 있다.